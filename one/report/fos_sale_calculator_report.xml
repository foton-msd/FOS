<?xml version="1.0" encoding="utf-8"?>
<odoo>
<data>
<template id="one.sale_calculator_report_template">
   <t t-call="web.html_container">
   <t t-foreach="docs" t-as="doc">
    <t t-call="web.external_layout">
    <div class="page">
      <div class="oe_structure"/>
        <h2 align="center">
          <t>
            <span>Sale Quotation </span>
          </t>
        </h2><br/>
           <div style="font-size: 15px">
            <div class="row">
              <div class="col-xs-6">
                <strong>Customer Name: </strong><span t-field="doc.customer_id"/>
              </div>
            </div>
            <div class="row">
              <div class="col-xs-6">
                <strong>Address and Tel No.: </strong><span t-field="doc.customer_id.street"/> <span t-field="doc.customer_id.mobile"/>
              </div>
            </div>
            <div class="row">
              <div class="col-xs-6">
                <strong>Company Name: </strong><span/>
              </div>
            </div>
            </div><br/><br/>
            <h4><b>Computation</b></h4> <br/>
            <div class="row">
              <div class="col-xs-6">
                <strong>Unit Description: </strong><span t-field="doc.unit_id"/>
              </div>
            </div>
            <div class="row">
              <div class="col-xs-6">
                <strong>Unit Price.: </strong><span t-field="doc.unit_id.list_price"/>
              </div>
            </div>
            <div class="row">
              <div class="col-xs-6">
                <strong>Less Discount: </strong><span t-field="doc.less_discount"/>
              </div>
            </div>
            <div class="row">
              <div class="col-xs-6">
                <strong>Net Price: </strong><span t-field="doc.net_cash"/>
              </div>
            </div>
            <div class="row">
              <div class="col-xs-6">
                <strong>Downpayment.: </strong><span t-field="doc.downpayment"/>
              </div>
            </div>
            <div class="row">
              <div class="col-xs-6">
                <strong>Amount Finance: </strong><span t-field="doc.amount_financed"/>
              </div>
            </div>
            <div class="row">
              <div class="col-xs-6">
                <strong>Reservation Fee: </strong><span t-field="doc.reservation_fee"/>
              </div>
            </div><br/>
            <h4><b>Amortization</b></h4> <br/>
            <div class="row">
              <div class="col-xs-6">
                <strong>Bank: </strong><span t-field="doc.bank_id"/>
              </div>
            </div>
            <div class="row">
              <div class="col-xs-6" t-if="doc.cash_outlay == 'standard'">
                <strong>Terms (Months): </strong><span t-field="doc.s_term"/>
              </div>
              <div class="col-xs-6" t-if="doc.cash_outlay == 'oma'">
                <strong>Terms (Months): </strong><span t-field="doc.o_term"/>
              </div>
            </div>
            <div class="row">
              <div class="col-xs-6" t-if="doc.cash_outlay == 'standard'">
                <strong>Net Monthly Amortization: </strong><span t-esc="'%.2f'%(doc.monthly_amortization_std)"/>
              </div>
              <div class="col-xs-6" t-if="doc.cash_outlay == 'oma'">
                <strong>Net Monthly Amortization: </strong><span t-esc="'%.2f'%(doc.monthly_amortization_oma)"/>
              </div>
            </div>
            <div class="row">
              <div class="col-xs-6">
                <strong>Downpayment: </strong><span t-field="doc.downpayment"/>
              </div>
            </div>
            <div class="row">
              <div class="col-xs-6">
                <strong>OMA: </strong><span t-field="doc.oma_std"/>
              </div>
            </div>
            <h4><b>Additional Accessories</b></h4> <br/><br/>
                <table width="50%">
                    <tr>
                    <th>Product Name</th>
                    <th>Description</th>
                    <th class="text-center">Unit Price</th>
                        <t t-foreach="docs.addons" t-as="a">
                        <tr>
                            <td><span t-field="a.product_id"/></td>
                            <td><span t-field="a.description"/></td>
                            <td class="text-right"><span t-field="a.amount"/></td>
                        </tr>
                        </t>
                    </tr>
                </table><br/>
            <div class="row" align="right">
              <div class="col-xs-6">
                <strong>TOTAL:   </strong><span t-field="doc.addons_total"/>
              </div>
            </div>
            <h4><b>Less</b></h4> <br/>
                <table width="50%">
                    <tr>
                    <th>Product Name</th>
                    <th>Description</th>
                    <th class="text-center">Unit Price</th>
                        <t t-foreach="docs.less" t-as="b">
                        <tr>
                            <td><span t-field="b.product_id"/></td>
                            <td><span t-field="b.description"/></td>
                            <td class="text-right"><span t-field="b.amount_less"/></td>
                        </tr>
                        </t>
                    </tr>
                </table><br/>
            <div class="row" align="right">
              <div class="col-xs-6">
                <strong>TOTAL:   </strong><span t-field="doc.less_total"/>
              </div>
            </div> <br/>
            <div class="row" style="font-size: 15px">
              <div class="col-xs-6" t-if="doc.cash_outlay == 'standard'">
                <strong>Net Total Cash Outlay: </strong><span t-esc="'%.2f'%(doc.net_cash_outlay_std)"/>
              </div>
              <div class="col-xs-6" t-if="doc.cash_outlay == 'oma'">
                <strong>Net Total Cash Outlay: </strong><span t-esc="'%.2f'%(doc.net_cash_outlay_oma)"/>
              </div>
            </div> <br/><br/>
        <div class="footer">
              <table width="100%">
               <tr>
                   <td align="center"><strong>Created By</strong></td>
                   <td align="center"><strong>Approved By</strong></td>
                   <td align="center"><strong>Conforme</strong></td>
                </tr>
                <tr>
                   <td><br/><br/></td>
                   <td><br/><br/></td>
                   <td><br/><br/></td>
                </tr>
                <tr>
                </tr>
                <tr>
                   <td align="center"><u><span t-field="doc.prepared_by_id"/></u></td>
                   <td align="center">_____________________</td>
                   <td align="center">_____________________</td>
                </tr>
              </table>
        </div>
      </div>
    </t>
   </t>
  </t>  
</template>
<report 
    id="one.sale_calculator_report"
    string="Sale Calculator"
    model="fos.calc" 
    report_type="qweb-html"
    file="one.sale_calculator_report_template"
    name="one.sale_calculator_report_template"
    print_report_name="(object.name)"
    menu="True"
        />
</data>     
</odoo>
