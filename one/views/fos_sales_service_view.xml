<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Servicing: Top Level Menu -->
    <menuitem id="fos_sale_service_menu_root"
        name="Servicing"
        web_icon="mrp,static/description/icon.png"
        sequence="8"/>    
    <menuitem id="fos_service_repairs_quotations_orders_menu"
        name="R.O., Estimates &amp; S.O."
        parent="fos_sale_service_menu_root"
        sequence="1"/>    
    <!-- End-of-Servicing: Top Level Menu -->

    <!-- Repair Estimates Menu, Action and Tree -->
    <record id="fos_repair_estimates_act_window" model="ir.actions.act_window">
        <field name="name">Repair Estimates</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">sale.order</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form</field>
        <field name="domain">[('so_type','=','service'),('state','in',('sent','draft'))]</field>
        <field name="context">{'default_so_type': 'service'}</field>
    </record>
    <menuitem id="fos_repair_estimates_menu"
        name="Repair Estimates"
        action="fos_repair_estimates_act_window"
        parent="fos_service_repairs_quotations_orders_menu"
        sequence="2"/>
    <!-- End-of-Repair Estimates Menu, Action and Tree -->

    <!-- Service Order Menu, Action and Tree -->
    <record id="fos_service_order_act_window" model="ir.actions.act_window">
        <field name="name">Service Order</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">sale.order</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form</field>        
        <field name="domain">[('so_type','=','service'),('state', 'not in', ('draft', 'sent', 'cancel'))]</field>
        <field name="context">{'default_so_type': 'service'}</field>
    </record>
    <menuitem id="fos_service_order_menu"
        name="Service Order"
        action="fos_service_order_act_window"
        parent="fos_service_repairs_quotations_orders_menu"
        sequence="3"/>
    <!-- End-of-Service Order Menu, Action and Tree -->

    <!-- Maintenance Menus and Actions for Products and Customers -->
    <menuitem id="fos_service_maintenance_menu" 
        name="Maintenance"
        parent="fos_sale_service_menu_root" sequence="4" 
        groups="sales_team.group_sale_salesman"/>
    <menuitem id="fos_service_products_menu" 
        name="Products" 
        action="product.product_template_action" 
        parent="fos_service_maintenance_menu" 
        sequence="1" 
        groups="sales_team.group_sale_salesman"/>
    <menuitem id="fos_service_customers_menu"
      parent="fos_service_maintenance_menu"
      action="base.action_partner_form"
      sequence="2" groups="sales_team.group_sale_salesman"/>
    <!-- End-of-Maintenance Menus and Actions for Products and Customers -->
</odoo>
