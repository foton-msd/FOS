<odoo>
  <data>
    <record model="ir.ui.view" id="fas_purchase_order_tree">
      <field name="name">Purchase Order</field>
      <field name="model">purchase.order</field>
      <field name="inherit_id" ref="purchase.purchase_order_tree"/>
      <field name="arch" type="xml">
        <xpath expr="//field[@name='name']" position="after">
          <field name="po_type"/>
        </xpath>
        <xpath expr="//field[@name='date_order']" position="attributes">
          <attribute name="widget">date</attribute>
        </xpath>
        <xpath expr="//field[@name='date_planned']" position="attributes">
          <attribute name="widget">date</attribute>
        </xpath>
      </field>
    </record>

    <record model="ir.ui.view" id="fas_purchase_order_form">
      <field name="name">fas.purchase.order.form</field>
      <field name="model">purchase.order</field>
      <field name="inherit_id" ref="purchase.purchase_order_form"/>
      <field name="arch" type="xml">
        <xpath expr="//button[@name='button_unlock']" position="attributes">
          <attribute name="confirm">Are you sure to unlock this P.O.?</attribute>
        </xpath>
        <xpath expr="//button[@name='button_done']" position="attributes">
          <attribute name="confirm">Are you sure to lock this P.O.?</attribute>
        </xpath>
        <xpath expr="//button[@name='button_cancel']" position="attributes">
          <attribute name="confirm">Are you sure to cancel this P.O.?</attribute>
        </xpath>
        <xpath expr="//button[@name='button_confirm']" position="replace">
          <button name="button_confirm2" type="object" states="draft" string="Confirm Order" id="draft_confirm"
            confirm="Are you sure to confirm this P.O.?"/>
          <button name="button_confirm2" type="object" states="sent" string="Confirm Order" class="oe_highlight" 
            id="bid_confirm" confirm="Are you sure to confirm this P.O.?"/>
        </xpath>
        <xpath expr="//field[@name='partner_ref']" position="after">
          <field name="rfq_number" attrs="{'invisible':[('state', 'in', ('draft','cancel'))]}"/>
        </xpath>
        <xpath expr="//form/sheet/group/group[2]/field[@name='date_order']" position="attributes">
          <attribute name="widget">date</attribute>
        </xpath>
        <xpath expr="//form/sheet/group/group[2]/field[@name='date_order']" position="after">
          <field name="po_type"/>
          <field name="contract_date" attrs="{'invisible': [('po_type','not in',('units','parts'))], 'required': [('po_type','=','units')]}"/>
          <field name="contract_number" attrs="{'invisible': [('po_type','not in',('units','parts'))], 'required': [('po_type','=','units')]}"/>
        </xpath>
        <xpath expr="//form/sheet/notebook/page/field[@name='order_line']/tree/field[@name='product_id']" position="attributes">
          <attribute name="domain">"['|',('type','=',parent.po_type),('sub_type','=',parent.po_type)]"</attribute>
          <attribute name="options">{'no_create': True, 'no_quick_create': True, 'no_create_edit': True, 'no_open': True}</attribute>
        </xpath>
       
        <xpath expr="//form/sheet/notebook/page/field[@name='order_line']/tree/field[@name='date_planned']" position="attributes">
          <attribute name="invisible">1</attribute>
        </xpath>
        <xpath expr="//form/sheet/notebook/page/field[@name='order_line']/tree/field[@name='product_id']" position="before">
          <field name="fu_id" 
            options="{'no_create': True, 'no_quick_create': True, 'no_create_edit': True, 'no_open': True}"/>
        </xpath>
        <xpath expr="//form/sheet/notebook/page[2]/group/group/div/field[@name='date_planned']" position="attributes">
          <attribute name="widget">date</attribute>
        </xpath>   
        <xpath expr="//form/sheet/notebook/page[2]/group/group/field[@name='picking_type_id']" position="attributes">
          <attribute name="options">{'no_create': True, 'no_quick_create': True, 'no_create_edit': True, 'no_open': True}</attribute>
        </xpath>   
        <xpath expr="//header" position="inside">
          <button name="get_po_lines" states="draft" string="Import Order Lines" type="object" 
            class="oe_highlight" attrs="{'invisible': [('state','not in',('draft'))]}"/>
        </xpath>
        <xpath expr="//form/sheet/notebook/page" position="inside">
           <group string="Signatories" col="3">
              <group>
                <field name="prepared_by_id"/>
                <field name="prepared_by_desig"/>
              </group>
              <group>
                <field name="approved_by"/>
                <field name="approved_by_desig"/>
              </group>
              <group>
                <field name="checked_by"/>
                <field name="checked_by_desig"/>
              </group>
           </group>
        </xpath>
      </field>
    </record>

    <record model="ir.sequence" id="fas_unit_order_line_id_seq">
      <field name="name">fas.unit.order.line.id.seq</field>
      <field name="code">unit.order.line.id</field>
      <field name="prefix">UOLID#</field>
      <field name="padding">6</field>
    </record>

  <record model="ir.sequence" id="fas_po_seq">
    <field name="name">P.O. Number</field>
    <field name="code">fas.po.seq</field>
    <field name="prefix">PO-%(y)s-%(month)s-</field>
    <field name="padding">6</field>
  </record>

  </data>
</odoo>
